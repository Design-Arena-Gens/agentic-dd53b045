/* CSS Reset (minimal) */
*, *::before, *::after { box-sizing: border-box; }
html, body { padding: 0; margin: 0; height: 100%; }
body { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji"; background: #0b0b0b; color: #f5f5f5; }

:root{
  --accent: #d4af37; /* warm gold */
  --muted: #b3a9a0;
  --bg: #0b0b0b;
  --panel: #121212;
  --ring: rgba(212, 175, 55, 0.35);
}

.container {
  min-height: 100dvh;
  display: grid;
  grid-template-rows: auto 1fr auto;
}

.header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 20px;
  background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0));
  border-bottom: 1px solid rgba(255,255,255,0.06);
}

.brand {
  font-weight: 600;
  letter-spacing: 0.02em;
}

.main {
  display: grid;
  place-items: center;
  padding: 24px;
}

.panel {
  width: min(720px, 100%);
  aspect-ratio: 9/16; /* Reel / Shorts aspect */
  background: #000;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 10px 30px rgba(0,0,0,0.6), 0 0 0 1px rgba(255,255,255,0.06) inset;
  position: relative;
}

.controls {
  display: flex;
  gap: 12px;
  padding: 14px 16px;
  background: #101010;
  border-top: 1px solid rgba(255,255,255,0.06);
}

.button {
  appearance: none;
  border: 1px solid rgba(255,255,255,0.1);
  background: #161616;
  color: #fff;
  padding: 10px 14px;
  border-radius: 10px;
  cursor: pointer;
  transition: transform 0.08s ease, background 0.2s ease, border-color 0.2s ease;
}
.button:focus { outline: 2px solid var(--ring); outline-offset: 2px; }
.button:hover { background: #1d1d1d; border-color: rgba(255,255,255,0.18); }
.button:active { transform: translateY(1px); }

.timeline {
  flex: 1;
  height: 10px;
  background: #1a1a1a;
  border-radius: 999px;
  overflow: hidden;
  position: relative;
}
.timeline > .progress {
  height: 100%;
  background: linear-gradient(90deg, var(--accent), #ffce6a);
  width: 0%;
}

.caption {
  position: absolute;
  left: 0; right: 0; bottom: 36px;
  text-align: center;
  padding: 0 24px;
  font-size: clamp(16px, 2.3vw, 24px);
  line-height: 1.35;
  text-shadow: 0 2px 12px rgba(0,0,0,0.7);
}

.badge {
  position: absolute;
  top: 14px; left: 14px;
  padding: 6px 10px;
  background: rgba(0,0,0,0.4);
  border: 1px solid rgba(255,255,255,0.12);
  border-radius: 999px;
  font-size: 12px;
  letter-spacing: 0.06em;
}

.overlay-fade {
  position: absolute; inset: 0;
  background: radial-gradient(ellipse at center, rgba(0,0,0,0) 40%, rgba(0,0,0,0.45) 75%, rgba(0,0,0,0.8) 100%);
  pointer-events: none;
}

/* Scene base */
.scene {
  position: absolute; inset: 0;
}

/* Scene: Sunrise campus pan */
.sunrise {
  background: linear-gradient(180deg, #0b1030, #2a3170 40%, #e29e47 70%, #ffd7a1 100%);
  animation: lightShift 8s ease forwards;
}
@keyframes lightShift {
  0% { filter: brightness(0.7) saturate(0.8); }
  100% { filter: brightness(1) saturate(1); }
}
.horizon { position:absolute; left:-20%; right:-20%; top:55%; height:60%; background: linear-gradient(180deg, #2d3b2d, #101810); transform: translateX(0); animation: panSlow 8s ease forwards; }
@keyframes panSlow { from { transform: translateX(-6%);} to { transform: translateX(6%);} }
.sun { position:absolute; width: 140px; height: 140px; border-radius: 50%; background: radial-gradient(circle at 30% 30%, #fff7d6, #ffbe44 60%, #e27e1d 100%); top: 30%; left: 10%; filter: blur(1px); box-shadow: 0 0 120px 30px rgba(255,190,68,0.35); }

/* Scene: Book pages */
.book { position: absolute; inset: 0; display: grid; place-items: center; }
.book-shape { width: 60%; max-width: 380px; aspect-ratio: 3/2; position: relative; perspective: 1200px; }
.page { position: absolute; inset: 0; background: linear-gradient(135deg, #f5ecd8, #e8dcc1); border-radius: 8px; box-shadow: 0 18px 40px rgba(0,0,0,0.35); }
.page.p1 { z-index: 3; transform-origin: left; animation: flip 6s ease 1s forwards; }
.page.p2 { z-index: 2; transform-origin: left; animation: flip 6s ease 2.2s forwards; }
.page.p3 { z-index: 1; }
@keyframes flip { 0% { transform: rotateY(0deg);} 60% { transform: rotateY(-160deg);} 100% { transform: rotateY(-180deg);} }

/* Scene: Corridor meet */
.corridor { background: radial-gradient(ellipse at center, #2b2b2b, #0f0f0f); overflow: hidden; }
.pillars { position:absolute; inset:0; display:flex; gap:8%; justify-content: center; }
.pillar { width: 12px; background: linear-gradient(180deg, #b8b2ac, #6f6963); height: 120%; transform: skewY(-2deg); box-shadow: 0 0 20px rgba(0,0,0,0.4); opacity: 0.7; }
.light { position:absolute; top:-10%; left: -20%; right:-20%; height: 60%; background: radial-gradient(circle at 50% 60%, rgba(255,244,215,0.25), rgba(255,244,215,0) 60%); filter: blur(10px); animation: drift 9s ease-in-out infinite alternate; }
@keyframes drift { from { transform: translateX(-4%);} to { transform: translateX(4%);} }

/* Characters as silhouettes */
.char { position:absolute; bottom:8%; width: 18%; aspect-ratio: 2/3; background: linear-gradient(180deg, #2b2b2b, #0d0d0d); border-radius: 26% 26% 10% 10% / 40% 40% 12% 12%; filter: drop-shadow(0 8px 16px rgba(0,0,0,0.6)); }
.char.m { left: 24%; }
.char.f { right: 24%; background: linear-gradient(180deg, #3a2b2b, #0d0d0d); }
.book-prop { position:absolute; bottom: 6%; left: 48%; width: 6%; height: 8%; background: #e9dfc8; transform: rotate(12deg); border-radius: 4px; box-shadow: 0 3px 8px rgba(0,0,0,0.4); }

/* Scene: Letter + Rain */
.desk { background: linear-gradient(180deg, #1a1a1a, #0a0a0a); }
.letter { position:absolute; top: 28%; left: 50%; width: 60%; max-width: 520px; transform: translateX(-50%); background: #f3e9d7; color: #2a2a2a; padding: 22px; border-radius: 8px; box-shadow: 0 8px 30px rgba(0,0,0,0.5); font-family: Georgia, 'Times New Roman', serif; }
.pen { position:absolute; top: 58%; left: 52%; width: 140px; height: 8px; background: linear-gradient(90deg, #3b3b3b, #0f0f0f); border-radius: 4px; transform-origin: left center; animation: write 6s ease-in-out 0.8s forwards; }
@keyframes write { 0% { transform: translateX(0) rotate(-6deg);} 50% { transform: translateX(-20%) rotate(3deg);} 100% { transform: translateX(10%) rotate(0deg);} }
.rain { position:absolute; inset: 0; background-image: repeating-linear-gradient(120deg, rgba(255,255,255,0.08) 0 1px, transparent 1px 18px); animation: rainfall 1.2s linear infinite; pointer-events: none; }
@keyframes rainfall { from { background-position: 0 0; } to { background-position: 0 40px; } }

/* Fade helpers */
.fade-in { animation: fadeIn 800ms ease forwards; }
.fade-out { animation: fadeOut 800ms ease forwards; }
@keyframes fadeIn { from { opacity: 0 } to { opacity: 1 } }
@keyframes fadeOut { from { opacity: 1 } to { opacity: 0 } }
